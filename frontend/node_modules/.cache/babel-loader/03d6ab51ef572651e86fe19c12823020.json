{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lukey\\\\Desktop\\\\Inventory-Management-master\\\\frontend\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Axios from \"axios\"; // Import Components\n\nimport PostModal from \"./components/post/PostModal\";\nimport OrderList from \"./components/order/OrderList\";\nimport NavBar from \"./components/navbar/NavBar\";\nimport Download from \"./components/Download\";\nimport FilterContainer from \"./components/filter/FilterContainer\";\nimport SearchBar from \"./components/SearchBar\";\nconst ORDER_ADDRESS = \"http://localhost:5000/orders/\";\n\nfunction App() {\n  _s();\n\n  // States\n  const [modalOpen, setModalOpen] = useState(false);\n  const [polling, setPolling] = useState(false);\n  const [isDescending, setIsDescending] = useState(true);\n  const [conditions, setConditions] = useState({\n    polishing: true,\n    sizing: true,\n    lazer: true,\n    engraving: true,\n    plating: true,\n    rhodium: true,\n    cleaning: true\n  });\n  const [search, setSearch] = useState(\"\"); // Order Display\n\n  const [filter, setFilter] = useState(\"all\");\n  const [displayOrders, setDisplayOrders] = useState([]); // Effects\n\n  useEffect(() => {\n    // Filter array of objects based on inclusion of substring in given element\n    const tertiaryFilter = arr => {\n      if (search === \"\") {\n        return arr;\n      } else {\n        const arrFiltered = arr.filter(function (order) {\n          return order.title.toLowerCase().includes(search.toLocaleLowerCase());\n        });\n        return arrFiltered;\n      }\n    }; // Compare array of objects to object of conditions\n    // Filter for objects that fufill those conditions\n\n\n    const secondaryFilter = arr => {\n      let arrFiltered = arr;\n      Object.entries(conditions).forEach(element => {\n        if (element[1] === false) {\n          arrFiltered = arrFiltered.filter(function (order) {\n            return order.todo[element[0]] === false;\n          });\n        }\n      });\n      console.log(conditions);\n      return arrFiltered; // if (inAction) {\n      //   return arrFiltered;\n      // }\n      // // If no conditions are ticked return default array\n      // else {\n      //   return arr;\n      // }\n    }; // Query Database for orders based on filter prereq\n\n\n    const chooseDisplay = () => {\n      Axios.get(ORDER_ADDRESS + filter).then(response => {\n        // Filter the response before display\n        const secResponse = secondaryFilter(response.data);\n        const terResponse = tertiaryFilter(secResponse);\n        setDisplayOrders(terResponse);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }; // Run it up\n\n\n    chooseDisplay();\n  }, [filter, conditions, search, polling]); // Functions\n  // Sort for descending date\n\n  const compareDateDesc = (a, b) => {\n    if (a.deadline < b.deadline) return 1;\n    if (a.deadline > b.deadline) return -1;\n    return 0;\n  }; // Sort for ascending date\n\n\n  const compareDateAsc = (a, b) => {\n    if (a.deadline > b.deadline) return 1;\n    if (a.deadline < b.deadline) return -1;\n    return 0;\n  }; // Test Function\n\n\n  const printDisplayArray = () => {\n    console.log(displayOrders);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: printDisplayArray,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }, \"DEV TEST BUTTON\"), /*#__PURE__*/React.createElement(SearchBar, {\n    search: search,\n    setSearch: setSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Download, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(FilterContainer, {\n    conditions: conditions,\n    setConditions: setConditions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(PostModal, {\n    polling: polling,\n    setPolling: setPolling,\n    setModalOpen: setModalOpen,\n    modalOpen: modalOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(NavBar, {\n    setModalOpen: setModalOpen,\n    setFilter: setFilter,\n    isDescending: isDescending,\n    setIsDescending: setIsDescending,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(OrderList, {\n    polling: polling,\n    setPolling: setPolling,\n    displayOrders: isDescending ? displayOrders.sort(compareDateDesc) : displayOrders.sort(compareDateAsc),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }));\n}\n\n_s(App, \"714vmjUokqK0JVfZ+8alxrVXBJw=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/Lukey/Desktop/Inventory-Management-master/frontend/src/App.js"],"names":["React","useState","useEffect","Axios","PostModal","OrderList","NavBar","Download","FilterContainer","SearchBar","ORDER_ADDRESS","App","modalOpen","setModalOpen","polling","setPolling","isDescending","setIsDescending","conditions","setConditions","polishing","sizing","lazer","engraving","plating","rhodium","cleaning","search","setSearch","filter","setFilter","displayOrders","setDisplayOrders","tertiaryFilter","arr","arrFiltered","order","title","toLowerCase","includes","toLocaleLowerCase","secondaryFilter","Object","entries","forEach","element","todo","console","log","chooseDisplay","get","then","response","secResponse","data","terResponse","catch","error","compareDateDesc","a","b","deadline","compareDateAsc","printDisplayArray","sort"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Axios from \"axios\";\n\n// Import Components\nimport PostModal from \"./components/post/PostModal\";\nimport OrderList from \"./components/order/OrderList\";\nimport NavBar from \"./components/navbar/NavBar\";\nimport Download from \"./components/Download\";\nimport FilterContainer from \"./components/filter/FilterContainer\";\nimport SearchBar from \"./components/SearchBar\";\n\nconst ORDER_ADDRESS = \"http://localhost:5000/orders/\";\n\nfunction App() {\n  // States\n  const [modalOpen, setModalOpen] = useState(false);\n  const [polling, setPolling] = useState(false);\n  const [isDescending, setIsDescending] = useState(true);\n  const [conditions, setConditions] = useState({\n    polishing: true,\n    sizing: true,\n    lazer: true,\n    engraving: true,\n    plating: true,\n    rhodium: true,\n    cleaning: true,\n  });\n  const [search, setSearch] = useState(\"\");\n\n  // Order Display\n  const [filter, setFilter] = useState(\"all\");\n  const [displayOrders, setDisplayOrders] = useState([]);\n\n  // Effects\n  useEffect(() => {\n    // Filter array of objects based on inclusion of substring in given element\n    const tertiaryFilter = (arr) => {\n      if (search === \"\") {\n        return arr;\n      } else {\n        const arrFiltered = arr.filter(function (order) {\n          return order.title.toLowerCase().includes(search.toLocaleLowerCase());\n        });\n        return arrFiltered;\n      }\n    };\n\n    // Compare array of objects to object of conditions\n    // Filter for objects that fufill those conditions\n    const secondaryFilter = (arr) => {\n      let arrFiltered = arr;\n      Object.entries(conditions).forEach((element) => {\n        if (element[1] === false) {\n          arrFiltered = arrFiltered.filter(function (order) {\n            return order.todo[element[0]] === false;\n          });\n        }\n      });\n      console.log(conditions);\n      return arrFiltered;\n      // if (inAction) {\n      //   return arrFiltered;\n      // }\n      // // If no conditions are ticked return default array\n      // else {\n      //   return arr;\n      // }\n    };\n\n    // Query Database for orders based on filter prereq\n    const chooseDisplay = () => {\n      Axios.get(ORDER_ADDRESS + filter)\n        .then((response) => {\n          // Filter the response before display\n          const secResponse = secondaryFilter(response.data);\n          const terResponse = tertiaryFilter(secResponse);\n          setDisplayOrders(terResponse);\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    };\n\n    // Run it up\n    chooseDisplay();\n  }, [filter, conditions, search, polling]);\n\n  // Functions\n  // Sort for descending date\n  const compareDateDesc = (a, b) => {\n    if (a.deadline < b.deadline) return 1;\n    if (a.deadline > b.deadline) return -1;\n    return 0;\n  };\n\n  // Sort for ascending date\n  const compareDateAsc = (a, b) => {\n    if (a.deadline > b.deadline) return 1;\n    if (a.deadline < b.deadline) return -1;\n    return 0;\n  };\n\n  // Test Function\n  const printDisplayArray = () => {\n    console.log(displayOrders);\n  };\n\n  return (\n    <div className=\"App\">\n      <button onClick={printDisplayArray}>DEV TEST BUTTON</button>\n      <SearchBar search={search} setSearch={setSearch} />\n      <Download />\n      <FilterContainer conditions={conditions} setConditions={setConditions} />\n      <PostModal\n        polling={polling}\n        setPolling={setPolling}\n        setModalOpen={setModalOpen}\n        modalOpen={modalOpen}\n      />\n      <NavBar\n        setModalOpen={setModalOpen}\n        setFilter={setFilter}\n        isDescending={isDescending}\n        setIsDescending={setIsDescending}\n      />\n      <OrderList\n        polling={polling}\n        setPolling={setPolling}\n        displayOrders={\n          isDescending\n            ? displayOrders.sort(compareDateDesc)\n            : displayOrders.sort(compareDateAsc)\n        }\n      />\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}